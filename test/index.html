<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
</head>
<body>
<canvas id="test" width="500" height="500"></canvas>
<button onclick="del()" type="button">del</button>
</body>
<script src="../dist/fabric.js"></script>
<script>
  let canvas = new fabric.Canvas('test');
  let rect = new fabric.Rect({
    left: 150,
    top: 200,
    width: 100,
    height: 100,
    cornerColor: 'yellow',
    fill: 'rgba(255, 0, 0, 0.5)',
    cornerStyle: 'cropper',
    cornerSize: 48,
    cornerStrokeSize: 4,
    hasRotatingPoint: false
  });
  canvas.add(rect);

  let text = new fabric.Text('test 123!', {
    left: 150,
    top: 200,
    cornerStyle: 'editor',
    cornerSize: 24,
    borderLineWidth: 2,
    borderColor: '#fff',
    hasRotatingPoint: false
  });
  canvas.add(text);
  canvas.renderAll();
  canvas.on('object:remove', (params) => {
    setTimeout(() => {
      let obj = canvas.getActiveObject();
      console.log(obj == params.target);
      canvas.remove(obj);
    }, 100);
  });

  function del() {
    let obj = canvas.getActiveObject();
    console.log(obj);
    canvas.remove(obj);
  }
</script>
</html>
